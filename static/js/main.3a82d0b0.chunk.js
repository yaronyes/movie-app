(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{58:function(e){e.exports=JSON.parse('[{"id":0,"firstName":"Jack","lastName":"Nicholson","birthday":"1937-04-22","imageUrl":"https://m.media-amazon.com/images/M/MV5BMTQ3OTY0ODk0M15BMl5BanBnXkFtZTYwNzE4Njc4._V1_.jpg","imdbLink":"https://www.imdb.com/name/nm0000197"},{"id":1,"firstName":"Robert","lastName":"De Niro","birthday":"1943-08-17","imageUrl":"https://m.media-amazon.com/images/M/MV5BMjAwNDU3MzcyOV5BMl5BanBnXkFtZTcwMjc0MTIxMw@@._V1_.jpg","imdbLink":"https://www.imdb.com/name/nm0000134"},{"id":2,"firstName":"Al","lastName":"Pacino","birthday":"1940-04-25","imageUrl":"https://m.media-amazon.com/images/M/MV5BMTQzMzg1ODAyNl5BMl5BanBnXkFtZTYwMjAxODQ1._V1_.jpg","imdbLink":"https://www.imdb.com/name/nm0000199"}]')},59:function(e,t,a){e.exports=a(96)},64:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},75:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),s=(a(64),a(5)),i=a.n(s),l=a(38),m=a(9),u=a(15),p=(a(66),a(67),a(26)),d=a(49),f=a(50),h=a.n(f),v=function(){function e(t){var a=t.id,n=t.firstName,r=t.lastName,c=t.birthday,o=t.imageUrl,s=t.imdbLink;Object(p.a)(this,e),this.id=a,this.firstName=n,this.lastName=r,this.birthday=new Date(c),this.imageUrl=o,this.imdbLink=s}return Object(d.a)(e,[{key:"Age",value:function(){return h()(this.birthday,"YYYY-MM-DD").fromNow().split(" ")[0]}}]),e}(),g=a(52),b=a(98),E=a(99),w=a(101),N=a(100),k=a(104),j=(a(69),a(6)),x=function(e){var t=e.actor,a=Object(j.f)();return r.a.createElement(k.a,{className:"h-100",onClick:function(){return a.push("/actor/".concat(t.id,"/movies"))}},r.a.createElement(k.a.Img,{className:"img-fluid",variant:"top",src:t.imageUrl}),r.a.createElement(k.a.Body,{className:"card-bg"},r.a.createElement("a",{href:t.imdbLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(k.a.Title,null,"".concat(t.firstName," ").concat(t.lastName))),r.a.createElement(k.a.Text,{className:"h-25"},"Age: ",t.Age())))},O=(a(75),function(e){var t=e.actors,a=e.onActorSelected,c=Object(n.useState)(""),o=Object(u.a)(c,2),s=o[0],i=o[1],l=Object(n.useState)("none"),m=Object(u.a)(l,2),p=m[0],d=m[1],f=t.filter((function(e){var t=e.firstName,a=e.lastName;return"".concat(t.toUpperCase()," ").concat(a.toUpperCase()).trim().includes(s.toUpperCase().trim())}));""===p&&"none"!==p||f.sort((function(e,t){return"age"===p?e.Age()-t.Age():function(e,t){return e<t?-1:e>t?1:0}(e[p],t[p])}));var h=f.map((function(e){return r.a.createElement(g.a,{key:e.id,lg:3,md:4,sm:6,className:"actor"},r.a.createElement(x,{actor:e,onActorSelected:a}))}));return r.a.createElement(b.a,null,r.a.createElement("div",{className:"actors-view"},r.a.createElement("header",null,r.a.createElement("h1",null,"Actors")),r.a.createElement(E.a,{id:"form-row"},r.a.createElement(w.a,{className:"w-100"},r.a.createElement(E.a,{className:"justify-content-between w-100"},r.a.createElement(g.a,{lg:10,sm:6},r.a.createElement(N.a,{inline:!0,className:"w-100"},r.a.createElement(N.a.Control,{type:"text",value:s,onChange:function(e){return i(e.target.value)},placeholder:"filter",className:"w-100"}))),r.a.createElement(g.a,{lg:2,sm:6},r.a.createElement(N.a,{inline:!0,className:"w-100"},r.a.createElement(N.a.Control,{as:"select",value:p,onChange:function(e){return d(e.target.value)},className:"ml-auto"},r.a.createElement("option",{value:"none"},"sort"),r.a.createElement("option",{value:"firstName"},"first name"),r.a.createElement("option",{value:"lastName"},"last name"),r.a.createElement("option",{value:"age"},"age"))))))),r.a.createElement(E.a,null,h)))}),y=a(19),_=a.n(y),M=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("actors.json");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),S="534b88fc1310cfa57ec88bf791f97edd",A=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://api.themoviedb.org/3/search/person?api_key=".concat(S,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"),e.next=4,_.a.get(a);case 4:return n=e.sent,e.abrupt("return",n.data.results[0].id);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://api.themoviedb.org/3/person/".concat(t,"/movie_credits?api_key=").concat(S,"&language=en-US"),e.next=4,_.a.get(a);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(S,"&language=en-US"),e.next=4,_.a.get(a);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(S),e.next=4,_.a.get(a);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://api.themoviedb.org/3/person/".concat(t,"?api_key=").concat(S,"&language=en-US"),e.next=4,_.a.get(a);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),D=function e(t,a,n){var r=this;Object(p.a)(this,e),this.populate=Object(m.a)(i.a.mark((function e(){var t,a,n,c,o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(r.id);case 3:return t=e.sent,r.length=t.data.runtime,e.next=7,C(r.id);case 7:return a=e.sent,n=a.data.crew.find((function(e){return e.job&&"Director"===e.job})),r.director.name=n.name,e.next=12,T(n.id);case 12:c=e.sent,r.director.imdb_id=c.data.imdb_id,o=a.data.cast.filter((function(e){return e.character&&e.order<5})),r.mainStars=o.map((function(e){return{name:e.name,imdb_id:""}})),s=0;case 17:if(!(s<o.length)){e.next=25;break}return e.next=20,T(o[s].id);case 20:l=e.sent.data,r.mainStars[s].imdb_id=l.imdb_id;case 22:s++,e.next=17;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),console.log(e.t0.message);case 30:case"end":return e.stop()}}),e,null,[[0,27]])}))),this.id=t,this.name=a,this.length=0,this.poster="https://image.tmdb.org/t/p/w500".concat(n),this.director={name:"",imdb_id:""},this.mainStars=[]},L=a(102),z=a(105),I=(a(94),function(e){var t=e.movie,a=Object(n.useState)({director:"",mainStars:[],length:0}),c=Object(u.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)("pointer-cursor"),p=Object(u.a)(l,2),d=p[0],f=p[1],h=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.director){e.next=6;break}return f("wait-curser"),e.next=4,t.populate();case 4:s({director:r.a.createElement("a",{href:"https://www.imdb.com/name/".concat(t.director.imdb_id),rel:"noopener noreferrer",target:"_blank"},t.director.name),mainStars:t.mainStars.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement("a",{href:"https://www.imdb.com/name/".concat(e.imdb_id),rel:"noopener noreferrer",target:"_blank"},e.name),", ")})),length:t.length}),f("pointer-cursor");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"comp-movie"},r.a.createElement(k.a,{onClick:h,className:d},r.a.createElement(L.a.Toggle,{as:k.a.Header,eventKey:t.id},t.name),r.a.createElement(L.a.Collapse,{eventKey:t.id},r.a.createElement(E.a,{className:"acc-row"},r.a.createElement(g.a,{className:"acc-col",md:3},r.a.createElement(k.a.Img,{src:t.poster,className:"w-100"})),r.a.createElement(g.a,{className:"acc-col",md:9},r.a.createElement(z.a,null,r.a.createElement(z.a.Item,null,r.a.createElement("span",{className:"l-title"},"Director: "),o.director),r.a.createElement(z.a.Item,null,r.a.createElement("span",{className:"l-title"},"Main Stars: "),o.mainStars),r.a.createElement(z.a.Item,null,r.a.createElement("span",{className:"l-title"},"Length: "),o.length," minutes")))))))}),V=(a(95),function(e){var t=e.actors,a=Object(j.g)().id,c=Object(n.useState)([]),o=Object(u.a)(c,2),s=o[0],l=o[1];console.log(a);var p=function(){var e=Object(m.a)(i.a.mark((function e(){var n,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("".concat(t[a].firstName," ").concat(t[a].lastName));case 2:if(!(n=e.sent)){e.next=9;break}return e.next=6,B(n);case 6:c=e.sent,o=c.data.cast.map((function(e,t){return r.a.createElement(I,{key:t,movie:new D(e.id,e.title,e.poster_path)})})),l(o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a&&a>=0&&a<=t.length&&p()}),[a]),r.a.createElement(b.a,null,r.a.createElement("div",{className:"comp-m-gallery"},r.a.createElement("header",null,r.a.createElement("h1",null,"Movies")),r.a.createElement(L.a,{className:"test"},s)))}),Y=a(58),J=a(25),F=function(){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement("img",{src:"https://images-na.ssl-images-amazon.com/images/I/41T3jlPA-tL._AC_.jpg",alt:"",style:{margin:"auto",width:"100%",height:"100%"}}))))},Q=a(103),X=function(){return r.a.createElement("div",null,r.a.createElement(w.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(w.a.Brand,{href:"#/"},"Movie App"),r.a.createElement(w.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(w.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(Q.a,{className:"mr-auto"},r.a.createElement(Q.a.Link,{href:"#/actors"},"Actors")))))};var Z=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M("actors.json");case 3:t=e.sent,c(t.data.map((function(e){return new v(Object(l.a)({},e))}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(Y.map((function(e){return new v(Object(l.a)({},e))})));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),r.a.createElement(J.a,null,r.a.createElement(X,null),r.a.createElement(j.c,null,r.a.createElement(j.a,{exact:!0,path:"/"},r.a.createElement(F,null)),r.a.createElement(j.a,{exact:!0,path:"/actors"},r.a.createElement(O,{actors:a})),r.a.createElement(j.a,{exact:!0,path:"/actor/:id/movies"},a.length>0?r.a.createElement(V,{actors:a}):null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.3a82d0b0.chunk.js.map